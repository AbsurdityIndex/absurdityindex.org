---
import BaseLayout from '../../layouts/BaseLayout.astro';
import OfficialSeal from '../../components/ui/OfficialSeal.astro';
import Divider from '../../components/ui/Divider.astro';
import MermaidClient from '../../components/votechain/MermaidClient.astro';
import { Content as PRDContent } from '../../../PRD-VOTECHAIN-ELECTION-WEB-PROTOCOL.md';
---

<BaseLayout
  title="VoteChain EWP — Election Web Protocol"
  description="Ballot integrity protocol that completes VoteChain verification: challenge, cast receipts, bulletin board inclusion, and tally anchoring."
  ogType="article"
  article={{
    publishedTime: '2026-02-08',
    author: 'Absurdity Index',
    section: 'Policy',
    tags: ['votechain', 'ewp', 'election security', 'end-to-end verifiability'],
  }}
>
  <div class="max-w-4xl mx-auto px-4 py-12">
    <!-- Header -->
    <div class="text-center mb-10">
      <div class="flex justify-center"><OfficialSeal size="160" /></div>
      <p class="text-sm text-gold-600 font-mono uppercase tracking-widest mt-6 mb-2">
        Protocol Draft
      </p>
      <h1 class="font-serif text-3xl md:text-4xl text-navy-900 font-bold">VoteChain EWP</h1>
      <p class="text-navy-600 font-serif italic mt-3">
        Election Web Protocol (EWP) — Ballot Integrity Layer
      </p>
      <div class="mt-5 flex flex-wrap justify-center gap-2">
        <a
          href="/votechain"
          class="inline-flex items-center gap-2 rounded-md border border-navy-200 bg-white px-4 py-2 text-navy-800 font-sans text-sm font-semibold hover:border-gold-500 hover:shadow-sm transition-all"
        >
          Back to VoteChain
        </a>
        <a
          href="/votechain/poc"
          class="inline-flex items-center gap-2 rounded-md bg-navy-800 px-4 py-2 text-gold-200 font-sans text-sm font-semibold hover:bg-navy-700 transition-colors"
        >
          Open POC
        </a>
      </div>
    </div>
    <div class="gold-rule"></div>

    <Divider withSeal={true} />

    <!-- Full PRD -->
    <div class="bg-parchment rounded-lg shadow-lg p-8 md:p-12">
      <div class="bill-content prd-content">
        <PRDContent />
      </div>
    </div>
  </div>

  <MermaidClient />
</BaseLayout>
