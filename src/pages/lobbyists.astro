---
import BaseLayout from '../layouts/BaseLayout.astro';
import OfficialSeal from '../components/ui/OfficialSeal.astro';
import Divider from '../components/ui/Divider.astro';

// Satirical lobbying groups
const lobbyists = [
  {
    rank: 1,
    name: 'American Council of Unnecessary Acronyms (ACUA)',
    billsInfluenced: 12,
    mission:
      "Dedicated to ensuring every federal program has an acronym that spells something vaguely patriotic or accidentally humorous. Their greatest achievement: convincing Congress that 'USA PATRIOT Act' counts as plain English.",
    icon: 'ABC',
    badge: 'gold',
  },
  {
    rank: 2,
    name: 'Big Cheese Coalition',
    billsInfluenced: 11,
    mission:
      "The nation's premier dairy advocacy group. Successfully lobbied to classify pizza as a vegetable in school lunches because of the tomato sauce, proving that with enough money, anything can be a vegetable.",
    icon: 'BCC',
    badge: 'silver',
  },
  {
    rank: 3,
    name: 'Association for the Advancement of Paperwork',
    billsInfluenced: 9,
    mission:
      "Ensuring that no federal process can be completed in fewer than 17 forms. Their motto: 'If it's not in triplicate, it didn't happen.' Currently lobbying to add a 28th question to Schedule D.",
    icon: 'AAP',
    badge: 'bronze',
  },
  {
    rank: 4,
    name: 'National Institute of Kicking Cans Down Roads',
    billsInfluenced: 8,
    mission:
      "America's foremost experts in legislative procrastination. Pioneered the 'continuing resolution' and the 'debt ceiling deadline extension.' Their 10-year strategic plan has been 'coming soon' since 1987.",
    icon: 'NICK',
    badge: null,
  },
  {
    rank: 5,
    name: 'Citizens for More Commemorative Coins',
    billsInfluenced: 7,
    mission:
      "Believes America needs a commemorative quarter for every conceivable occasion. Currently pushing for the 'National Awareness of Awareness Month' silver dollar series. Has never met a dead president they wouldn't mint.",
    icon: 'CFMCC',
    badge: null,
  },
  {
    rank: 6,
    name: 'The Committee to Study Whether We Need More Committees',
    billsInfluenced: 6,
    mission:
      'A bipartisan coalition dedicated to the formation, study, and eventual disbanding of congressional committees. Has spawned 43 subcommittees, 12 task forces, and one very long lunch break.',
    icon: 'CSWNMC',
    badge: null,
  },
  {
    rank: 7,
    name: 'Lobbyists Against Lobbying Reform',
    billsInfluenced: 5,
    mission:
      "The only honest lobby in Washington. Their stated goal: 'We're here to make sure things stay exactly like this.' 100% of their budget goes to preventing any legislation that would reveal what their budget is.",
    icon: 'LALR',
    badge: null,
  },
  {
    rank: 8,
    name: 'Foundation for Longer Bill Titles',
    billsInfluenced: 4,
    mission:
      "Believes no bill title should be shorter than a Tolstoy novel. Champions of the 'Securing American Families' Elegant Retirement Act of Dedicated Action and Renewed National Goals for Seniors' — SAFER DARNGS.",
    icon: 'FLBT',
    badge: null,
  },
];

// Badge styles
function getBadgeClass(badge: string | null): string {
  if (badge === 'gold') return 'bg-yellow-500 text-navy-900 shadow-lg shadow-yellow-500/30';
  if (badge === 'silver') return 'bg-gray-300 text-navy-900 shadow-lg shadow-gray-400/30';
  if (badge === 'bronze') return 'bg-amber-700 text-cream-100 shadow-lg shadow-amber-700/30';
  return 'bg-navy-700 text-cream-100';
}
---

<BaseLayout
  title="K Street's Finest"
  description="Meet the most influential fictional lobbying groups in Washington. A satirical look at who really writes the laws."
  ogImage="/og/lobbyists.png"
>
  <main class="bg-parchment min-h-screen">
    <!-- Hero -->
    <section class="bg-navy-900 py-12 sm:py-16">
      <div class="max-w-5xl mx-auto px-4 text-center">
        <OfficialSeal size="100" />
        <p class="text-sm text-gold-500 font-mono uppercase tracking-widest mt-6 mb-2">
          The Influence Index
        </p>
        <h1 class="font-serif text-3xl sm:text-4xl lg:text-5xl text-gold-400 font-bold">
          K Street's Finest
        </h1>
        <p class="mt-4 text-gold-300/80 font-sans text-lg max-w-2xl mx-auto">
          The unelected officials who really get things done &mdash; or undone. A ranked leaderboard
          of Washington's most influential fictional lobbying groups.
        </p>
        <p class="mt-2 text-navy-400 font-mono text-sm">
          {lobbyists.reduce((sum, l) => sum + l.billsInfluenced, 0)} bills influenced and counting
        </p>
      </div>
    </section>

    <div class="max-w-4xl mx-auto px-4 py-10 sm:py-14 space-y-6">
      <!-- Leaderboard -->
      {
        lobbyists.map((lobbyist) => (
          <div class="bg-white rounded-lg border border-navy-200 shadow-md hover:shadow-lg transition-shadow overflow-hidden">
            <div class="flex flex-col sm:flex-row">
              {/* Rank Badge */}
              <div
                class={`flex items-center justify-center sm:w-24 py-4 sm:py-0 ${getBadgeClass(lobbyist.badge)}`}
              >
                <div class="text-center">
                  {lobbyist.badge && (
                    <span class="block text-xs uppercase tracking-widest font-bold mb-1">
                      {lobbyist.badge}
                    </span>
                  )}
                  <span class="font-mono text-4xl font-bold">#{lobbyist.rank}</span>
                </div>
              </div>

              {/* Content */}
              <div class="flex-1 p-5 sm:p-6">
                <div class="flex flex-col sm:flex-row sm:items-start gap-4">
                  {/* Logo Placeholder */}
                  <div class="hidden sm:flex shrink-0 w-16 h-16 bg-navy-100 rounded-lg items-center justify-center border-2 border-navy-200">
                    <span class="font-mono text-xs font-bold text-navy-500 text-center leading-tight px-1">
                      {lobbyist.icon}
                    </span>
                  </div>

                  {/* Info */}
                  <div class="flex-1 min-w-0">
                    <h2 class="font-serif text-lg sm:text-xl text-navy-900 font-bold leading-snug">
                      {lobbyist.name}
                    </h2>
                    <div class="flex items-center gap-4 mt-2">
                      <span class="inline-flex items-center gap-1.5 px-3 py-1 bg-gold-100 text-gold-700 rounded-full text-sm font-medium">
                        <svg
                          xmlns="http://www.w3.org/2000/svg"
                          class="w-4 h-4"
                          viewBox="0 0 20 20"
                          fill="currentColor"
                        >
                          <path
                            fill-rule="evenodd"
                            d="M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z"
                            clip-rule="evenodd"
                          />
                        </svg>
                        {lobbyist.billsInfluenced} bills influenced
                      </span>
                    </div>
                    <p class="mt-3 text-navy-600 font-sans text-sm leading-relaxed">
                      <strong class="text-navy-700">Mission:</strong> {lobbyist.mission}
                    </p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        ))
      }

      <Divider withSeal={true} />

      <!-- Become a Lobbyist CTA -->
      <section class="bg-navy-800 rounded-lg p-8 sm:p-10 text-center border border-navy-700">
        <h2 class="font-serif text-2xl sm:text-3xl text-gold-400 font-bold mb-4">
          Think You Have What It Takes?
        </h2>
        <p class="text-gold-300/80 font-sans max-w-xl mx-auto mb-6">
          Join the ranks of K Street's elite. No experience necessary — just a willingness to write
          very long emails and schedule meetings that could have been emails.
        </p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <a
            href="/submit"
            class="inline-block px-8 py-3 bg-gold-500 text-navy-900 font-serif text-lg rounded hover:bg-gold-400 transition-colors font-bold"
          >
            Submit a Bill
          </a>
          <a
            href="/about"
            class="inline-block px-8 py-3 bg-transparent border-2 border-gold-500 text-gold-400 font-serif text-lg rounded hover:bg-gold-500/10 transition-colors font-bold"
          >
            Learn More
          </a>
        </div>
        <p class="text-navy-500 font-mono text-xs mt-6 italic">
          * Golf handicap assessment may be required
        </p>
      </section>

      <!-- Disclaimer -->
      <div
        class="bg-cream-200 border border-gold-300 rounded p-4 text-xs text-navy-600 leading-relaxed text-center"
      >
        <p>
          <strong>Satire Notice:</strong> This page is entirely fictional and satirical. No actual lobbying
          groups were harmed (or consulted) in the making of this leaderboard. Any resemblance to real
          organizations is purely coincidental, though some of these fake ones might actually be more
          transparent about their goals.
        </p>
      </div>
    </div>
  </main>
</BaseLayout>
