@import "tailwindcss";

@theme {
  /* Government Parody Colors */
  --color-navy-50: #EEF3FA;
  --color-navy-100: #DCE7F5;
  --color-navy-200: #C2D3E8;
  --color-navy-300: #98B3D3;
  --color-navy-900: #0A1628;
  --color-navy-800: #121F36;
  --color-navy-700: #1A2D4D;
  --color-navy-600: #2D5986;
  --color-navy-500: #3A6FA0;
  --color-navy-400: #5A8FBF;
  --color-navy-950: #060F1E;

  --color-gold-50: #FDF9EF;
  --color-gold-800: #6D562A;
  --color-gold-700: #8A6E36;
  --color-gold-600: #A88B4A;
  --color-gold-500: #C5A572;
  --color-gold-400: #D4BB8A;
  --color-gold-300: #E8D5B0;
  --color-gold-200: #F0E4CA;
  --color-gold-100: #F7EFE0;

  --color-cream-50: #FEFCF7;
  --color-cream-500: #B4A894;
  --color-cream-400: #CFC4B2;
  --color-cream-100: #FAF7F0;
  --color-cream-200: #F0EBE0;
  --color-cream-300: #E0D8C8;

  --color-parchment: #F5F0E1;

  --color-red-800: #6B1111;
  --color-red-700: #8B1A1A;
  --color-red-600: #A52020;
  --color-red-500: #C02828;

  --color-green-700: #1A6B3A;
  --color-green-600: #228B4A;

  --color-yellow-500: #EAB308;
  --color-orange-500: #F97316;

  /* Typography */
  --font-serif: 'Libre Caslon Text', 'Georgia', 'Times New Roman', serif;
  --font-sans: 'Inter', 'system-ui', '-apple-system', sans-serif;
  --font-mono: 'JetBrains Mono', 'Fira Code', 'Consolas', monospace;

  /* Spacing for ornamental elements */
  --spacing-ornament: 2rem;
}

/* Base styles */
html {
  scroll-behavior: smooth;
}

body {
  font-family: var(--font-sans);
  background-color: var(--color-cream-100);
  color: var(--color-navy-900);
  line-height: 1.6;
}

/* Official document styling for MDX bill content */
.bill-content {
  font-family: var(--font-serif);
  font-size: 1.05rem;
  line-height: 1.8;
  color: var(--color-navy-900);
}

.bill-content h2 {
  font-family: var(--font-serif);
  font-size: 1.25rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  margin-top: 2rem;
  margin-bottom: 1rem;
  padding-bottom: 0.5rem;
  border-bottom: 1px solid var(--color-gold-300);
}

.bill-content h3 {
  font-family: var(--font-serif);
  font-size: 1.1rem;
  font-weight: 700;
  margin-top: 1.5rem;
  margin-bottom: 0.75rem;
}

.bill-content p {
  margin-bottom: 1rem;
  text-align: justify;
}

.bill-content ul,
.bill-content ol {
  margin-bottom: 1rem;
  padding-left: 2rem;
}

.bill-content li {
  margin-bottom: 0.5rem;
}

.bill-content blockquote {
  border-left: 3px solid var(--color-gold-500);
  padding-left: 1.5rem;
  margin: 1.5rem 0;
  font-style: italic;
  color: var(--color-navy-700);
}

/* Drop cap for first paragraph of bill text */
.bill-content > p:first-of-type::first-letter {
  font-family: var(--font-serif);
  font-size: 3.5em;
  float: left;
  line-height: 0.8;
  padding-right: 0.1em;
  padding-top: 0.05em;
  color: var(--color-navy-700);
  font-weight: 700;
}

/* Ornamental gold rule */
.gold-rule {
  border: none;
  height: 2px;
  background: linear-gradient(
    to right,
    transparent,
    var(--color-gold-500) 20%,
    var(--color-gold-500) 80%,
    transparent
  );
  margin: 1.5rem 0;
}

/* Rubber stamp overlay */
.stamp-overlay {
  position: absolute;
  transform: rotate(-12deg);
  opacity: 0.15;
  font-family: var(--font-serif);
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  border: 4px solid currentColor;
  border-radius: 8px;
  padding: 0.5rem 1.5rem;
  pointer-events: none;
}

/* Ticker animation */
@keyframes ticker-scroll {
  0% { transform: translateX(0); }
  100% { transform: translateX(-50%); }
}

.ticker-animate {
  animation: ticker-scroll 30s linear infinite;
}

/* Session badge pulse */
@keyframes subtle-pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.7; }
}

.pulse-subtle {
  animation: subtle-pulse 3s ease-in-out infinite;
}

/* Dark mode overrides - comprehensive theme swap */
html.dark {
  /* Background colors - invert light to dark */
  --color-cream-50: #070F1B;
  --color-cream-100: #0A1220;
  --color-cream-200: #0D1626;
  --color-cream-300: #121C30;
  --color-cream-400: #17243C;
  --color-cream-500: #1D2C48;
  --color-parchment: #0F1A2E;

  /* Text colors - navy becomes light for readability */
  --color-navy-50: #46423D;
  --color-navy-100: #59564F;
  --color-navy-200: #716D66;
  --color-navy-300: #89857D;
  --color-navy-900: #F5F0E8;
  --color-navy-800: #EDE9E1;
  --color-navy-700: #E0DCD5;
  --color-navy-600: #D4D0C8;
  --color-navy-500: #BDB9B1;
  --color-navy-400: #A09C94;
  --color-navy-950: #060F1E;

  /* Gold stays warm but slightly brighter for dark bg */
  --color-gold-50: #FFFDF5;
  --color-gold-800: #946A2A;
  --color-gold-700: #B98436;
  --color-gold-600: #D4A04A;
  --color-gold-500: #E8B85A;
  --color-gold-400: #F0C86A;
  --color-gold-300: #F8D87A;
  --color-gold-200: #FFF0C0;
  --color-gold-100: #FFF8E8;

  /* Keep red/green semantic colors readable */
  --color-red-700: #EF4444;
  --color-red-600: #F87171;
  --color-green-700: #22C55E;
  --color-green-600: #4ADE80;
}

/* Dark mode class-based overrides for common patterns */
html.dark body {
  background-color: #0A1220;
  color: #F5F0E8;
}

html.dark .bg-parchment {
  background-color: #0F1A2E;
}

html.dark .bg-cream-100 {
  background-color: #0A1220;
}

html.dark .bg-cream-200 {
  background-color: #0D1626;
}

/* Dark mode for cards and containers */
html.dark .bg-white {
  background-color: #0F1A2E;
}

/* Dark mode borders */
html.dark .border-gold-300 {
  border-color: #C5A572;
}

html.dark .border-gold-200 {
  border-color: #A88B4A;
}

/* Dark mode for bill content */
html.dark .bill-content {
  color: #EDE9E1;
}

html.dark .bill-content h2 {
  border-bottom-color: #C5A572;
}

html.dark .bill-content blockquote {
  border-left-color: #C5A572;
  color: #D4D0C8;
}

/* Dark mode for CTA buttons — bg-navy-800 flips to cream, text-gold-300 becomes dark gold = no contrast */
html.dark a.bg-navy-800,
html.dark button.bg-navy-800 {
  background-color: #121F36;
  border-color: #1A2D4D;
  color: #F0C86A;
}

html.dark a.bg-navy-800:hover,
html.dark button.bg-navy-800:hover,
html.dark a.bg-navy-700:hover,
html.dark button.bg-navy-700:hover {
  background-color: #1A2D4D;
}

html[data-theme="solarized-dark"] a.bg-navy-800,
html[data-theme="solarized-dark"] button.bg-navy-800 {
  background-color: #073642;
  border-color: #586E75;
  color: #DBA800;
}

html[data-theme="solarized-dark"] a.bg-navy-800:hover,
html[data-theme="solarized-dark"] button.bg-navy-800:hover {
  background-color: #0A3D49;
}

/* Dark mode for inputs and forms */
html.dark input,
html.dark textarea,
html.dark select {
  background-color: #121C30;
  border-color: #2D3748;
  color: #F5F0E8;
}

html.dark input::placeholder,
html.dark textarea::placeholder {
  color: #6B7280;
}

/* Dark mode for code blocks */
html.dark code {
  background-color: #1A2744;
  color: #E8B85A;
}

/* Dark mode for tables */
html.dark table {
  border-color: #2D3748;
}

html.dark th {
  background-color: #121C30;
  color: #F5F0E8;
}

html.dark td {
  border-color: #2D3748;
}

html.dark tr:hover {
  background-color: #0F1A2E;
}

/* ==============================
   SOLARIZED DARK THEME
   Solarized base03/base02 palette mapped to existing variable names.
   html.dark class is also set, so existing :global(html.dark) rules
   in components still fire — these overrides layer on top.
   ============================== */
html[data-theme="solarized-dark"] {
  /* Backgrounds — Solarized base03/base02 with stepped surfaces */
  --color-cream-50: #001F27;
  --color-cream-100: #002B36;
  --color-cream-200: #073642;
  --color-cream-300: #0F4351;
  --color-cream-400: #1F535F;
  --color-cream-500: #2B626D;
  --color-parchment: #073642;

  /* Text — Solarized base tones */
  --color-navy-50: #324A52;
  --color-navy-100: #3F5962;
  --color-navy-200: #586E75;
  --color-navy-300: #657B83;
  --color-navy-900: #EEE8D5;
  --color-navy-800: #DCD6C4;
  --color-navy-700: #C9C3B3;
  --color-navy-600: #B8B29F;
  --color-navy-500: #93A1A1;
  --color-navy-400: #839496;
  --color-navy-950: #001A22;

  /* Gold — Solarized yellow ramp */
  --color-gold-50: #FEF8E6;
  --color-gold-800: #665000;
  --color-gold-700: #806300;
  --color-gold-600: #9A7800;
  --color-gold-500: #B58900;
  --color-gold-400: #CFA530;
  --color-gold-300: #DDBE63;
  --color-gold-200: #EADAA5;
  --color-gold-100: #F5EAC8;

  /* Semantic colors — Solarized red/green */
  --color-red-700: #DC322F;
  --color-red-600: #E1645E;
  --color-green-700: #859900;
  --color-green-600: #9CB312;
}

html[data-theme="solarized-dark"] body {
  background-color: #002B36;
  color: #EEE8D5;
}

html[data-theme="solarized-dark"] .bg-white {
  background-color: #073642;
}

html[data-theme="solarized-dark"] .bg-parchment {
  background-color: #073642;
}

html[data-theme="solarized-dark"] code {
  background-color: #0A3D49;
  color: #CB9B00;
}

html[data-theme="solarized-dark"] input,
html[data-theme="solarized-dark"] textarea,
html[data-theme="solarized-dark"] select {
  background-color: #073642;
  border-color: #586E75;
  color: #EEE8D5;
}

html[data-theme="solarized-dark"] table {
  border-color: #586E75;
}

html[data-theme="solarized-dark"] th {
  background-color: #073642;
  color: #EEE8D5;
}

html[data-theme="solarized-dark"] td {
  border-color: #586E75;
}

html[data-theme="solarized-dark"] tr:hover {
  background-color: #073642;
}

/* ==============================
   SOLARIZED LIGHT THEME
   Solarized base3/base2 palette with warm cream tones.
   No html.dark class — light theme variant.
   ============================== */
html[data-theme="solarized-light"] {
  /* Backgrounds — Solarized base3, base2 */
  --color-cream-50: #FEFDF8;
  --color-cream-100: #FDF6E3;
  --color-cream-200: #EEE8D5;
  --color-cream-300: #DDD6C3;
  --color-cream-400: #CFC7B3;
  --color-cream-500: #B8B19D;
  --color-parchment: #EEE8D5;

  /* Text — Solarized base00, base01, base02, base03 */
  --color-navy-50: #DFE5E5;
  --color-navy-100: #CED6D6;
  --color-navy-200: #BCC7C7;
  --color-navy-300: #AAB7B8;
  --color-navy-900: #002B36;
  --color-navy-800: #073642;
  --color-navy-700: #586E75;
  --color-navy-600: #657B83;
  --color-navy-500: #839496;
  --color-navy-400: #93A1A1;
  --color-navy-950: #001F27;

  /* Gold — Solarized yellow ramp */
  --color-gold-50: #FFF7E2;
  --color-gold-800: #665000;
  --color-gold-700: #806300;
  --color-gold-600: #9A7800;
  --color-gold-500: #B58900;
  --color-gold-400: #C49500;
  --color-gold-300: #D4A820;
  --color-gold-200: #E7D69D;
  --color-gold-100: #F5EAC8;

  /* Semantic colors */
  --color-red-700: #CB4B16;
  --color-red-600: #DC322F;
  --color-green-700: #859900;
  --color-green-600: #9CB312;
}

/* ==============================
   STRUCTURAL DARK PINS
   The variable-swap approach flips navy→light for text readability,
   but header, footer, hero, ticker, mobile-menu, and settings dial
   must keep dark backgrounds. Reset the variables within those
   elements so every Tailwind utility inside them resolves correctly.
   ============================== */
html.dark [data-theme-fixed],
html.dark #mobile-menu-backdrop,
html.dark #mobile-menu-panel,
html.dark .settings-dial-panel,
html.dark .settings-dial-fab {
  --color-navy-50: #EEF3FA;
  --color-navy-100: #DCE7F5;
  --color-navy-200: #C2D3E8;
  --color-navy-300: #98B3D3;
  --color-navy-900: #0A1628;
  --color-navy-800: #121F36;
  --color-navy-700: #1A2D4D;
  --color-navy-600: #2D5986;
  --color-navy-500: #3A6FA0;
  --color-navy-400: #5A8FBF;
  --color-navy-950: #060F1E;
  --color-cream-50: #FEFCF7;
  --color-cream-100: #FAF7F0;
  --color-cream-200: #F0EBE0;
  --color-cream-300: #E0D8C8;
  --color-cream-400: #CFC4B2;
  --color-cream-500: #B4A894;
  --color-gold-50: #FDF9EF;
  --color-gold-100: #F7EFE0;
  --color-gold-200: #F0E4CA;
  --color-gold-300: #E8D5B0;
  --color-gold-400: #D4BB8A;
  --color-gold-500: #C5A572;
  --color-gold-600: #A88B4A;
  --color-gold-800: #6D562A;
  --color-gold-700: #8A6E36;
  --color-parchment: #F5F0E1;
}

html[data-theme="solarized-dark"] [data-theme-fixed],
html[data-theme="solarized-dark"] #mobile-menu-backdrop,
html[data-theme="solarized-dark"] #mobile-menu-panel,
html[data-theme="solarized-dark"] .settings-dial-panel,
html[data-theme="solarized-dark"] .settings-dial-fab {
  --color-navy-50: #DFE5E5;
  --color-navy-100: #CED6D6;
  --color-navy-200: #BCC7C7;
  --color-navy-300: #AAB7B8;
  --color-navy-900: #002B36;
  --color-navy-800: #073642;
  --color-navy-700: #586E75;
  --color-navy-600: #657B83;
  --color-navy-500: #839496;
  --color-navy-400: #93A1A1;
  --color-navy-950: #001F27;
  --color-cream-50: #FEFDF8;
  --color-cream-100: #FDF6E3;
  --color-cream-200: #EEE8D5;
  --color-cream-300: #DDD6C3;
  --color-cream-400: #CFC7B3;
  --color-cream-500: #B8B19D;
  --color-gold-50: #FFF7E2;
  --color-gold-100: #F5EAC8;
  --color-gold-200: #E7D69D;
  --color-gold-300: #D4A820;
  --color-gold-400: #C49500;
  --color-gold-500: #B58900;
  --color-gold-600: #9A7800;
  --color-gold-800: #665000;
  --color-gold-700: #806300;
  --color-parchment: #EEE8D5;
}

/* Dynamic scope to restore active theme variables inside a fixed theme region. */
html.dark [data-theme-dynamic] {
  --color-cream-50: #070F1B;
  --color-cream-100: #0A1220;
  --color-cream-200: #0D1626;
  --color-cream-300: #121C30;
  --color-cream-400: #17243C;
  --color-cream-500: #1D2C48;
  --color-parchment: #0F1A2E;
  --color-navy-50: #46423D;
  --color-navy-100: #59564F;
  --color-navy-200: #716D66;
  --color-navy-300: #89857D;
  --color-navy-900: #F5F0E8;
  --color-navy-800: #EDE9E1;
  --color-navy-700: #E0DCD5;
  --color-navy-600: #D4D0C8;
  --color-navy-500: #BDB9B1;
  --color-navy-400: #A09C94;
  --color-navy-950: #060F1E;
  --color-gold-50: #FFFDF5;
  --color-gold-800: #946A2A;
  --color-gold-700: #B98436;
  --color-gold-600: #D4A04A;
  --color-gold-500: #E8B85A;
  --color-gold-400: #F0C86A;
  --color-gold-300: #F8D87A;
  --color-gold-200: #FFF0C0;
  --color-gold-100: #FFF8E8;
}

html[data-theme="solarized-dark"] [data-theme-dynamic] {
  --color-cream-50: #001F27;
  --color-cream-100: #002B36;
  --color-cream-200: #073642;
  --color-cream-300: #0F4351;
  --color-cream-400: #1F535F;
  --color-cream-500: #2B626D;
  --color-parchment: #073642;
  --color-navy-50: #324A52;
  --color-navy-100: #3F5962;
  --color-navy-200: #586E75;
  --color-navy-300: #657B83;
  --color-navy-900: #EEE8D5;
  --color-navy-800: #DCD6C4;
  --color-navy-700: #C9C3B3;
  --color-navy-600: #B8B29F;
  --color-navy-500: #93A1A1;
  --color-navy-400: #839496;
  --color-navy-950: #001A22;
  --color-gold-50: #FEF8E6;
  --color-gold-800: #665000;
  --color-gold-700: #806300;
  --color-gold-600: #9A7800;
  --color-gold-500: #B58900;
  --color-gold-400: #CFA530;
  --color-gold-300: #DDBE63;
  --color-gold-200: #EADAA5;
  --color-gold-100: #F5EAC8;
}

/* Hide scrollbars while preserving swipe scroll on mobile chip rows */
.hide-scrollbar {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.hide-scrollbar::-webkit-scrollbar {
  display: none;
}

/* Print-friendly styles */
@media print {
  @page {
    margin: 2cm;
    @bottom-center {
      content: "Absurdity Index — absurdityindex.org";
      font-family: 'Libre Caslon Text', Georgia, serif;
      font-size: 9pt;
      color: #666;
    }
  }

  /* Hide non-essential elements */
  header,
  footer,
  nav,
  .construction-banner,
  .share-buttons,
  [data-mobile-menu],
  .mobile-menu,
  .mobile-nav,
  [data-settings-dial] {
    display: none !important;
  }

  /* Base print typography */
  body {
    background: white !important;
    color: black !important;
    font-family: 'Libre Caslon Text', Georgia, 'Times New Roman', serif !important;
    font-size: 12pt;
    line-height: 1.5;
  }

  /* Show URLs after external links */
  a[href^="http"]::after {
    content: " (" attr(href) ")";
    font-size: 0.8em;
    font-weight: normal;
    color: #444;
  }

  /* Full-width bill content */
  .bill-content {
    width: 100% !important;
    max-width: 100% !important;
    padding: 0 !important;
    margin: 0 !important;
  }

  /* Remove decorative styles from cards */
  .bg-parchment,
  .bg-cream-100,
  .bg-cream-200,
  .bg-navy-800,
  .bg-navy-900,
  [class*="bg-"] {
    background: white !important;
    box-shadow: none !important;
    border-radius: 0 !important;
  }

  /* Remove box shadows and rounded corners globally */
  * {
    box-shadow: none !important;
    text-shadow: none !important;
  }

  [class*="rounded"] {
    border-radius: 0 !important;
  }

  /* Simplify the absurdity meter for print */
  .absurdity-meter {
    border: 1px solid #333 !important;
    background: white !important;
  }

  /* Ensure text is readable */
  [class*="text-navy"],
  [class*="text-gold"],
  [class*="text-cream"] {
    color: black !important;
  }

  /* Gold rule simplified for print */
  .gold-rule {
    background: #333 !important;
    height: 1px !important;
  }

  /* Stamp overlay lighter for print */
  .stamp-overlay {
    opacity: 0.1 !important;
    color: #666 !important;
  }

  /* Avoid page breaks inside key content */
  .bill-content h2,
  .bill-content h3 {
    page-break-after: avoid;
  }

  .bill-content p,
  .bill-content blockquote {
    orphans: 3;
    widows: 3;
  }

  img, svg {
    max-width: 100% !important;
    page-break-inside: avoid;
  }
}
