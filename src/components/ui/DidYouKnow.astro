---
import Icon from './Icon.astro';

const facts = [
  "The 110th Congress named 109 post offices â€” nearly 20% of all laws passed.",
  "The FairTax Act (H.R. 25) has been introduced every Congress since 1999 without ever reaching a floor vote.",
  "Congress averages 147 session days per year. The average American works 260.",
  "The 113th Congress passed a law giving a missile site 3 extra acres... for a parking lot.",
  "A 2024 NSF grant spent $118,971 studying whether Thanos could snap his fingers wearing the Infinity Gauntlet.",
  "The Congressional cafeteria renamed French Fries to 'Freedom Fries' in 2003. This was considered important.",
  "The COVFEFE Act was a real bill. Its acronym stands for 'Communications Over Various Feeds Electronically for Engagement.'",
  "Congress declared pizza a vegetable in 2011 by ruling that 2 tablespoons of tomato paste counts as a serving.",
  "$7.5 billion was allocated for EV chargers in 2021. By 2024, only 68 were operational.",
  "The Bridge to Nowhere would have connected 8,900 people to 50 people for $223 million.",
  "Members of Congress have not received a raise since 2009. Their base salary is $174,000.",
  "The 'Each Day Is Not a Calendar Day' rule in the 119th Congress literally declared that tomorrow never comes.",
  "Congress once debated the size of precious-metal blanks for Baseball Hall of Fame commemorative coins.",
  "National Catfish Month has been passed by Congress at least twice.",
  "The ANTI-SOCIAL CCP Act has one of the longest acronyms in congressional history: 58 characters.",
  "A $14.6 million grant funded monkeys playing a 'Price Is Right' video game.",
  "The Department of Veterans Affairs funded teaching teenage ferrets to binge drink. Cost: $1,079,360.",
];

// Pick 2-3 facts deterministically based on day of year (offset from Bill of the Day)
const now = new Date();
const dayOfYear = Math.floor((now.getTime() - new Date(now.getFullYear(), 0, 0).getTime()) / 86400000);
const offset = 7; // offset so we don't overlap with Bill of the Day's index
const count = (dayOfYear % 2 === 0) ? 3 : 2;
const selectedFacts: string[] = [];
for (let i = 0; i < count; i++) {
  selectedFacts.push(facts[(dayOfYear + offset + i) % facts.length]);
}
---

<aside class="bg-cream-50 border border-gold-300 rounded-sm p-6 shadow-sm">
  <div class="flex items-center gap-2 mb-4">
    <Icon name="lightbulb" size={20} class="text-gold-500 shrink-0" />
    <h3 class="font-serif text-lg font-bold text-navy-900">Did You Know?</h3>
  </div>
  <ul class="space-y-3">
    {selectedFacts.map((fact) => (
      <li class="flex gap-2 text-sm font-sans text-navy-700 leading-relaxed">
        <Icon name="star" size={14} class="text-gold-500 shrink-0 mt-0.5" />
        <span>{fact}</span>
      </li>
    ))}
  </ul>
</aside>
